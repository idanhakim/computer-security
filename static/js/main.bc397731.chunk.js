(this["webpackJsonpcomputer-security-app"]=this["webpackJsonpcomputer-security-app"]||[]).push([[0],{114:function(e,t,r){},115:function(e,t,r){},116:function(e,t,r){},122:function(e,t,r){},124:function(e,t,r){},241:function(e,t,r){},242:function(e,t,r){},243:function(e,t,r){},244:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(101),i=r.n(s),c=(r(114),r(115),r(116),r(8)),u=r(11),o=r(10),l=r(1),d=Object(n.createContext)(),j={isAuthenticated:!1,signin:function(e){j.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){j.isAuthenticated=!1,setTimeout(e,100)}},h=function(e){var t=e.children,r=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),r=t[0],a=t[1];return{user:r,signin:function(e,t){a(e),t()},signout:function(e){return j.signout((function(){a(null),e()}))}}}();return Object(l.jsx)(d.Provider,{value:r,children:t})},p=function(){return Object(n.useContext)(d)},b=function(){var e=p(),t=Object(c.g)(),r=e.user;console.log(e);return Object(l.jsxs)("header",{children:[r&&Object(l.jsx)("button",{className:"logout-button",onClick:function(){e.signout((function(){return e.signout((function(){return t.push("/")}))}))},children:"Logout"}),Object(l.jsx)("h1",{children:"computer-security"}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"/",children:"Home"})}),r?Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"/my-account",children:"My Account"})})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"/login",children:"Login"})}),Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"/forgot-password",children:"Forgot Password"})}),Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"/reset-password",children:"Reset Password"})}),Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"/register",children:"Register"})})]})]})})]})},m=(r(122),function(){return Object(l.jsxs)("div",{className:"home",children:[Object(l.jsx)("h2",{children:"Home"}),Object(l.jsx)("h3",{children:"Authors:"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Idan Hakim"}),Object(l.jsx)("li",{children:"Oleg Rudoy."}),Object(l.jsx)("li",{children:"Yafit Fridman."}),Object(l.jsx)("li",{children:"Dor Nakash."}),Object(l.jsx)("li",{children:"Tomer."})]})]})}),x=r(3),O=r.n(x),f=r(6),v=(r(124),r(15)),w=r(7),g="Required Field",N=w.d().required(g),S=w.d().email("Invalid email address").required(g),y=w.d().required(g),C=w.d().required(g),k=w.d().oneOf([w.c("password"),null]).min(0,"Use 10 or more characters").required(g),A=(w.d().matches(/^[aA-zZ\s]+$/,"Name must only contain letters").required(g),w.a("Only numbers"),r(53)),B=r(254),M=Object(A.a)(B.a)({backgroundColor:"#282c34",borderColor:"#282c34",color:"#61dafb",fontWeight:700,textTransform:"uppercase","&:hover":{backgroundColor:"#282c34",borderColor:"#282c34",boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:"#282c34",borderColor:"#282c34"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}),P=function(e){var t=e.disabled,r=e.text;return Object(l.jsx)(M,{variant:"contained",size:"medium",type:"submit",disabled:t,children:r})},F=r(108),R=r.n(F),J="http://127.0.0.1:8000/",_=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var n,a,s=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"post",e.prev=1,console.log("params = ",t),e.next=5,R()({method:n,url:J+r,data:t,withCredentials:!0});case 5:return a=e.sent,console.log("res = ",a),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(1),alert("NETWORK ERROR: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var n,a,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:t,password:r},e.next=3,_(s,"login/");case 3:return i=e.sent,e.abrupt("return",i.data.Success?{isAuthenticated:!0}:{isAuthenticated:!1,errorMsg:null!==(n=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.Fail)&&void 0!==n?n:"error"});case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(O.a.mark((function e(t,r,n){var a,s,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={username:n,password:r,email:t},e.next=3,_(i,"register/");case 3:return c=e.sent,e.abrupt("return",c.data.Success?{isAuthenticated:!0}:{isAuthenticated:!1,errorMsg:null!==(a=null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.Fail)&&void 0!==a?a:"error"});case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({username:t},"forgot_pass/");case 2:return a=e.sent,e.abrupt("return",a.data.Success?{isAuthenticated:!0}:{isAuthenticated:!1,errorMsg:null!==(r=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.Fail)&&void 0!==r?r:"error"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var n,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({password:t,new_password:r},"menu/change_pass/");case 2:return s=e.sent,e.abrupt("return",s.data.Success?{isAuthenticated:!0}:{isAuthenticated:!1,errorMsg:null!==(n=null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.Fail)&&void 0!==n?n:"error"});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(O.a.mark((function e(t,r,n){var a,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({email:n,first_name:t,last_name:t},"menu/add_customer/");case 2:return i=e.sent,e.abrupt("return",i.data.Success?{isAuthenticated:!0,msg:i.data.Success}:{isAuthenticated:!1,errorMsg:null!==(a=null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.Fail)&&void 0!==a?a:"error"});case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({verify:t},"verify/");case 2:return a=e.sent,e.abrupt("return",a.data.Success?{isAuthenticated:!0}:{isAuthenticated:!1,errorMsg:null!==(r=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.Fail)&&void 0!==r?r:"error"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({new_password:t},"forgot_pass_change_pass/");case 2:return a=e.sent,e.abrupt("return",a.data.Success?{isAuthenticated:!0}:{isAuthenticated:!1,errorMsg:null!==(r=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.Fail)&&void 0!==r?r:"error"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=p(),t=Object(c.g)(),r=(Object(c.h)().state||{from:{pathname:"/my-account"}}).from,n=function(){var n=Object(f.a)(O.a.mark((function n(a,s){var i,c,u,o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=s.setSubmitting,n.next=3,V(a.userName,a.password);case 3:c=n.sent,u=c.isAuthenticated,o=c.errorMsg,i(!1),u?e.signin(a.userName,(function(){t.replace(r)})):alert(JSON.stringify(o,null,2));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Login"}),Object(l.jsx)(v.a,{initialValues:{userName:"",password:""},validationSchema:w.b({userName:y,password:C}),onSubmit:n,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"text",name:"userName",onChange:a,onBlur:s,value:t.userName,placeholder:"user name"}),r.userName&&n.userName&&r.userName]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"password",name:"password",onChange:a,onBlur:s,value:t.password,placeholder:"password"}),r.password&&n.password&&r.password]}),Object(l.jsx)(P,{disabled:c,text:"login"})]})}})]})},W=(r(241),function(){var e=Object(c.g)(),t=function(){var t=Object(f.a)(O.a.mark((function t(r,n){var a,s,i,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.setSubmitting,t.next=3,T(r.userName);case 3:s=t.sent,i=s.isAuthenticated,c=s.errorMsg,a(!1),i?e.push("/reset-password/"):alert(JSON.stringify(c,null,2));case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Forgot Password"}),Object(l.jsx)(v.a,{initialValues:{userName:""},validationSchema:w.b({userName:y}),onSubmit:t,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"text",name:"userName",onChange:a,onBlur:s,value:t.userName,placeholder:"user name"}),r.userName&&n.userName&&r.userName]}),Object(l.jsx)(P,{disabled:c,text:"Reset"})]})}})]})}),D=(r(242),function(){var e=p(),t=Object(c.g)(),r=(Object(c.h)().state||{from:{pathname:"/my-account"}}).from,n=function(){var n=Object(f.a)(O.a.mark((function n(a,s){var i,c,u,o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=s.setSubmitting,n.next=3,q(a.email,a.password,a.userName);case 3:c=n.sent,u=c.isAuthenticated,o=c.errorMsg,i(!1),u?e.signin(a.userName,(function(){t.replace(r)})):alert(JSON.stringify(o,null,2));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Register"}),Object(l.jsx)(v.a,{initialValues:{userName:"",email:"",password:""},validationSchema:w.b({userName:y,email:S,password:k}),onSubmit:n,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"text",name:"userName",onChange:a,onBlur:s,value:t.userName,placeholder:"user name"}),r.userName&&n.userName&&r.userName]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"email",name:"email",onChange:a,onBlur:s,value:t.email,placeholder:"email"}),r.email&&n.email&&r.email]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"password",name:"password",onChange:a,onBlur:s,value:t.password,placeholder:"password"}),r.password&&n.password&&r.password]}),Object(l.jsx)(P,{disabled:c,text:"Register"})]})}})]})}),K=(r(243),function(){var e=Object(c.g)(),t=function(){var t=Object(f.a)(O.a.mark((function t(r,n){var a,s,i,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.setSubmitting,t.next=3,E(r.password,r.newPassword);case 3:s=t.sent,i=s.isAuthenticated,c=s.errorMsg,a(!1),i?e.push("/my-account"):alert(JSON.stringify(c,null,2));case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Change Password"}),Object(l.jsx)(v.a,{initialValues:{password:"",newPassword:""},validationSchema:w.b({password:C,newPassword:C}),onSubmit:t,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"password",name:"password",onChange:a,onBlur:s,value:t.password,placeholder:"password"}),r.password&&n.password&&r.password]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"password",name:"newPassword",onChange:a,onBlur:s,value:t.newPassword,placeholder:"new password"}),r.newPassword&&n.newPassword&&r.newPassword]}),Object(l.jsx)(P,{disabled:c,text:"Change"})]})}})]})}),U=function(){var e=Object(c.g)(),t=function(){var t=Object(f.a)(O.a.mark((function t(r,n){var a,s,i,c,u,o,l,d;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.setSubmitting,s=r.firstName,i=r.lastName,c=r.email,t.next=4,H(s,i,c);case 4:u=t.sent,o=u.isAuthenticated,l=u.errorMsg,d=u.msg,a(!1),o?(alert(JSON.stringify(d,null,2)),e.push("my-account")):alert(JSON.stringify(l,null,2));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Add Client"}),Object(l.jsx)(v.a,{initialValues:{firstName:"",lastName:"",email:""},validationSchema:w.b({firstName:N,lastName:N,email:S}),onSubmit:t,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"text",name:"firstName",onChange:a,onBlur:s,value:t.firstName,placeholder:"first name"}),r.firstName&&n.firstName&&r.firstName]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"text",name:"lastName",onChange:a,onBlur:s,value:t.lastName,placeholder:"last name"}),r.lastName&&n.lastName&&r.lastName]}),Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"email",name:"email",onChange:a,onBlur:s,value:t.email,placeholder:"email"}),r.email&&n.email&&r.email]}),Object(l.jsx)(P,{disabled:c,text:"Add"})]})}})]})},Y=function(){var e=Object(c.i)(),t=e.path,r=e.url;return p().user?Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"My Account"}),Object(l.jsxs)("ul",{className:"my-account-menu",children:[Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"".concat(r,"/change-password"),children:"Change Password"})}),Object(l.jsx)("li",{children:Object(l.jsx)(u.b,{to:"".concat(r,"/add-client"),children:"Add Client"})})]}),Object(l.jsxs)(c.d,{children:[Object(l.jsx)(c.b,{path:"".concat(t,"change-password"),children:Object(l.jsx)(K,{})}),Object(l.jsx)(c.b,{path:"".concat(t,"add-client"),children:Object(l.jsx)(U,{})})]})]}):Object(l.jsx)(c.a,{to:{pathname:"/login"}})},Z=function(e){var t=e.onSuccess,r=function(){var e=Object(f.a)(O.a.mark((function e(r,n){var a,s,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setSubmitting,e.next=3,I(r.token);case 3:s=e.sent,i=s.isAuthenticated,c=s.errorMsg,a(!1),i?t():alert(JSON.stringify(c,null,2));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Please enter verify token:"}),Object(l.jsx)(v.a,{initialValues:{token:""},validationSchema:w.b({token:N}),onSubmit:r,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"text",name:"token",onChange:a,onBlur:s,value:t.token,placeholder:"token"}),r.token&&n.token&&r.token]}),Object(l.jsx)(P,{disabled:c,text:"Verify"})]})}})]})},$=function(){var e=Object(c.g)(),t=Object(n.useState)(!1),r=Object(o.a)(t,2),a=r[0],s=r[1],i=function(){var t=Object(f.a)(O.a.mark((function t(r,n){var a,s,i,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.setSubmitting,t.next=3,L(r.password);case 3:s=t.sent,i=s.isAuthenticated,c=s.errorMsg,a(!1),i?e.push("/login"):alert(JSON.stringify(c,null,2));case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Reset password"}),a?Object(l.jsx)(v.a,{initialValues:{password:""},validationSchema:w.b({password:C}),onSubmit:i,children:function(e){var t=e.values,r=e.errors,n=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit,c=e.isSubmitting;return Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsxs)("div",{className:"input-wrapper",children:[Object(l.jsx)("input",{type:"password",name:"password",onChange:a,onBlur:s,value:t.password,placeholder:"password"}),r.password&&n.password&&r.password]}),Object(l.jsx)(P,{disabled:c,text:"Change"})]})}}):Object(l.jsx)(Z,{onSuccess:function(){return s(!0)}})]})};var G=function(){return Object(l.jsx)(h,{children:Object(l.jsxs)(u.a,{children:[Object(l.jsx)(b,{}),Object(l.jsx)("main",{children:Object(l.jsxs)(c.d,{children:[Object(l.jsx)(c.b,{exact:!0,path:"/",children:Object(l.jsx)(m,{})}),Object(l.jsx)(c.b,{path:"/login",children:Object(l.jsx)(z,{})}),Object(l.jsx)(c.b,{path:"/forgot-password",children:Object(l.jsx)(W,{})}),Object(l.jsx)(c.b,{path:"/register",children:Object(l.jsx)(D,{})}),Object(l.jsx)(c.b,{path:"/my-account/",children:Object(l.jsx)(Y,{})}),Object(l.jsx)(c.b,{path:"/reset-password/",children:Object(l.jsx)($,{})})]})})]})})};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root"))}},[[244,1,2]]]);
//# sourceMappingURL=main.bc397731.chunk.js.map